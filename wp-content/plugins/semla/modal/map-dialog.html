<html>
<head>
<link href="//maps.googleapis.com" rel="dns-prefetch">
<style>body{font-size:10pt;color:#333;margin:0;padding:8px}#map{width:100%;height:98%;border:1px solid #23282d}#searchBox,body{font-family:Roboto,Arial,sans-serif}#searchBox{margin:10px;font-size:14px;box-shadow:0 2px 6px rgba(0,0,0,.3);padding:5px}.hide{display:none}input{border:1px solid #ccc}input:focus{border:1px solid #555}</style>
</head>
<body>
<div class="hide">
<input id="searchBox" type="text" placeholder="Search Google Maps" size="30">
</div>
<div id="map"></div>
<script>
document.write('<' + 'script src="https://maps.googleapis.com/maps/api/js?v=3&key=' + top.semla.gapi + '&libraries=places" async><' + '/script>');
</script>
<script>!function(){"use strict";var e,o,t=null,a={UNKNOWN_ERROR:"The request could not be successfully processed, yet the exact reason for the failure is not known",OVER_QUERY_LIMIT:"The webpage has gone over the requests limit in too short a time",REQUEST_DENIED:"The webpage is not allowed to use the geocoder for some reason",INVALID_REQUEST:"This request was invalid",ZERO_RESULTS:"The address is unknown, please try another",ERROR:"There was a problem contacting the Google servers"};function n(e){t||(t=new google.maps.Geocoder),t.geocode({address:e},s)}function s(t,n){n===google.maps.GeocoderStatus.OK?(e.setCenter(t[0].geometry.location),o.setPosition(t[0].geometry.location)):alert(a[n])}window.addEventListener("load",(function(){var t=top.semla.loc.lat,a=top.semla.loc.long,s=top.semla.loc.address,l=!1;(isNaN(t)||isNaN(a)||t<50||t>54||a<-6||a>2)&&(top.semla.loc.lat=t=51.501476,top.semla.loc.long=a=-.140634,l=!0);var r=new google.maps.LatLng(t,a);e=new google.maps.Map(document.getElementById("map"),{center:r,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,disableDoubleClickZoom:!0,zoomControlOptions:!0,streetViewControl:!1,zoom:16}),o=new google.maps.Marker({position:r,map:e,title:"Drag this marker to the exact location",draggable:!0}),l&&s&&n(s),e.addListener("dblclick",(function(e){o.setPosition(e.latLng)})),o.addListener("position_changed",(function(){var e=o.getPosition();top.semla.loc.lat=parseFloat(e.lat().toFixed(6)),top.semla.loc.long=parseFloat(e.lng().toFixed(6))}));var i=document.getElementById("searchBox");e.controls[google.maps.ControlPosition.TOP_RIGHT].push(i),new google.maps.places.Autocomplete(i,{bounds:new google.maps.LatLngBounds(new google.maps.LatLng(50,-6),new google.maps.LatLng(54,2)),componentRestrictions:{country:"gb"}}).addListener("place_changed",(function(){var t=this.getPlace();if(t.geometry)e.setCenter(t.geometry.location),o.setPosition(t.geometry.location);else{if(""===t.name.trim())return;n(t.name.trim())}}))}))}();</script>
</body>
</html>