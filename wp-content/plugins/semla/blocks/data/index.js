(()=>{"use strict";var e={n:s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return e.d(r,{a:r}),r},d:(s,r)=>{for(var l in r)e.o(r,l)&&!e.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:r[l]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.apiFetch;var r=e.n(s);const l=window.wp.blockEditor,t=window.wp.blocks,n=window.wp.components,o=window.wp.element,i=window.wp.primitives,c=window.ReactJSXRuntime,a=(0,c.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(i.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),u=window.wp.serverSideRender;var d=e.n(u);(0,t.registerBlockType)("semla/data",{edit:function({attributes:e,setAttributes:s}){const[t,i]=(0,o.useState)(null);(0,o.useEffect)(()=>{r()({path:"/semla-admin/v1/leagues-cups"}).then(e=>{const s=[];for(let r=0,l=e.length;r<l;r++){const{id:l,type:t,name:n}=e[r];"league"===t?(s.push((0,c.jsxs)("option",{value:`curr_tables,${l}`,children:[n," League Tables"]},`curr_tables,${l}`)),s.push((0,c.jsxs)("option",{value:`curr_grid,${l}`,children:[n," Fixtures Grid"]},`curr_grid,${l}`))):(s.push((0,c.jsx)("option",{value:`curr_flags,${l}`,children:n},`curr_flags,${l}`)),s.push((0,c.jsxs)("option",{value:`curr_flags_rounds,${l}`,children:[n," Table"]},`curr_flags_rounds,${l}`)))}i(s)}).catch(e=>console.log(e))},[]);const{src:u}=e,p=(0,l.useBlockProps)();return"none"===u?(0,c.jsx)("div",{...p,children:(0,c.jsx)(n.Placeholder,{icon:(0,c.jsx)(n.Icon,{icon:"editor-table"}),label:"SEMLA Data",instructions:"Select the data source",children:(0,c.jsxs)("select",{className:"semla-select",onChange:e=>{s({src:e.target.value}),e.preventDefault()},children:[(0,c.jsx)("option",{value:"none",children:"Select..."}),(0,c.jsx)("option",{value:"clubs_list",children:"Clubs List"}),(0,c.jsx)("option",{value:"clubs_grid",children:"Clubs Grid"}),(0,c.jsx)("option",{value:"clubs_map",children:"Clubs Map"}),(0,c.jsx)("option",{value:"curr_fixtures",children:"Fixtures"}),t,(0,c.jsx)("option",{value:"curr_results",children:"Recent Results/Upcoming Fixtures"})]})})}):(0,c.jsxs)("div",{...p,children:[(0,c.jsx)(l.BlockControls,{children:(0,c.jsx)(n.ToolbarGroup,{children:(0,c.jsx)(n.ToolbarButton,{label:"Change data source",icon:a,onClick:()=>{s({src:"none"})}})})}),"clubs_map"===u?(0,c.jsx)("p",{className:"semla-border semla-border-dashed",children:"Clubs map will be inserted here - check the preview to see actual rendering."}):(0,c.jsx)(n.Disabled,{children:(0,c.jsx)(d(),{block:"semla/data",attributes:e})})]})}})})();