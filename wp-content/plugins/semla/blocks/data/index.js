(()=>{"use strict";var e={251:(e,t,r)=>{var l=r(196),o=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var l,c={},u=null,i=null;for(l in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(i=t.ref),t)n.call(t,l)&&!s.hasOwnProperty(l)&&(c[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===c[l]&&(c[l]=t[l]);return{$$typeof:o,type:e,key:u,ref:i,props:c,_owner:a.current}}},893:(e,t,r)=>{e.exports=r(251)},196:e=>{e.exports=window.React}},t={};function r(l){var o=t[l];if(void 0!==o)return o.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(196);const t=window.wp.apiFetch;var l=r.n(t);const o=window.wp.blockEditor,n=window.wp.blocks,a=window.wp.components,s=window.wp.element,c=window.wp.primitives;var u=r(893);const i=(0,u.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(c.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),p=window.wp.serverSideRender;var d=r.n(p);(0,n.registerBlockType)("semla/data",{edit:function({attributes:t,setAttributes:r}){const[n,c]=(0,s.useState)(null);(0,s.useEffect)((()=>{l()({path:"/semla-admin/v1/leagues-cups"}).then((t=>{const r=[];for(let l=0,o=t.length;l<o;l++){const{id:o,type:n,name:a}=t[l];"league"===n?(r.push((0,e.createElement)("option",{key:`curr_tables,${o}`,value:`curr_tables,${o}`},a," League Tables")),r.push((0,e.createElement)("option",{key:`curr_grid,${o}`,value:`curr_grid,${o}`},a," Fixtures Grid"))):(r.push((0,e.createElement)("option",{key:`curr_flags,${o}`,value:`curr_flags,${o}`},a)),r.push((0,e.createElement)("option",{key:`curr_flags_rounds,${o}`,value:`curr_flags_rounds,${o}`},a," Table")))}c(r)})).catch((e=>console.log(e)))}),[]);const{src:u}=t,p=(0,o.useBlockProps)();return"none"===u?(0,e.createElement)("div",{...p},(0,e.createElement)(a.Placeholder,{icon:(0,e.createElement)(a.Icon,{icon:"editor-table"}),label:"SEMLA Data",instructions:"Select the data source"},(0,e.createElement)("select",{className:"semla-select",onChange:e=>{r({src:e.target.value}),e.preventDefault()}},(0,e.createElement)("option",{value:"none"},"Select..."),(0,e.createElement)("option",{value:"clubs_list"},"Clubs List"),(0,e.createElement)("option",{value:"clubs_grid"},"Clubs Grid"),(0,e.createElement)("option",{value:"clubs_map"},"Clubs Map"),(0,e.createElement)("option",{value:"curr_fixtures"},"Fixtures"),n,(0,e.createElement)("option",{value:"curr_results"},"Recent Results/Upcoming Fixtures")))):(0,e.createElement)("div",{...p},(0,e.createElement)(o.BlockControls,null,(0,e.createElement)(a.ToolbarGroup,null,(0,e.createElement)(a.ToolbarButton,{label:"Change data source",icon:i,onClick:()=>{r({src:"none"})}}))),"clubs_map"===u?(0,e.createElement)("p",{className:"semla-border semla-border-dashed"},"Clubs map will be inserted here - check the preview to see actual rendering."):(0,e.createElement)(a.Disabled,null,(0,e.createElement)(d(),{block:"semla/data",attributes:t})))}})})()})();