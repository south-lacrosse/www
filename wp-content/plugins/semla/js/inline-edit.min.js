!function(){const n=document.getElementById("the-list");let u,i,y,f,p,h,s,v,m,E;function g(){c(!0),i.appendChild(u)}async function o(){v.classList.add("is-active"),L();var e,t,n=semlaEdit.url+(y.id?y.id.substring(y.id.indexOf("-")+1):p.textContent.replaceAll(" ","+")),r={};for([e,t]of Object.entries(h))r[e]=t.value;try{var a,i=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":semlaEdit.nonce},body:JSON.stringify(r)});if(!i.ok){let e;throw i.headers.get("Content-Type").startsWith("application/json")?(a=await i.json(),e=a.message,console.log("Fetch error",a)):e=await i.text(),new Error(`Response status code ${i.status}: `+e)}var s,o,c=i.headers.get("X-Wp-Nonce"),l=(c&&(semlaEdit.nonce=c),y.style.opacity=0,g(),y.style.opacity=1,await i.json());for([s,o]of Object.entries(l))f[s]&&(f[s].textContent=o);wp.a11y.speak("Changes saved.")}catch(e){var d="Error while saving the changes. "+e.message;m||(m=u.querySelector(".notice-error"),E=m.querySelector(".error")),m.classList.remove("hidden"),E.textContent=d,wp.a11y.speak(d),console.error(e)}finally{v.classList.remove("is-active")}}function c(e=!1){n.querySelectorAll("tr.hidden").forEach(e=>e.remove());var t=y.querySelector("button.editinline");t.setAttribute("aria-expanded","false"),y.hidden=!1,L(),e&&t.focus()}function L(){m&&m.classList.add("hidden")}n.addEventListener("click",function(e){e=e.target;if(e.classList.contains("editinline")){if(!u){function t(e){"Enter"===e.key&&(e.preventDefault(),o())}u=document.getElementById("inline-edit"),i=u.parentNode,u.querySelector(".save").addEventListener("click",o),u.querySelector(".cancel").addEventListener("click",g),u.addEventListener("keyup",function(e){"Escape"===e.key&&g()}),h={},u.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("keydown",t),s=s||e,h[e.name]=e}),p=u.querySelector(".inline-edit-title"),v=u.querySelector(".spinner")}u.parentNode!==i&&c(),u.remove(),y=e.closest("tr"),f={};var n=y.cells;for(let e=0;e<n.length;e++){var r,a=n[e];a.classList.contains("column-primary")?p.textContent=a.innerText:(r=a.dataset.colname)&&h[r]&&(h[r].value=a.innerText,f[r]=a)}e.setAttribute("aria-expanded","true"),y.hidden=!0,y.insertAdjacentElement("afterend",u),y.insertAdjacentHTML("afterend",'<tr class="hidden"></tr>'),s.focus()}},!1)}();