!function(){var e={184:function(e,t){var a;!function(){"use strict";var l={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)){if(a.length){var r=n.apply(null,a);r&&e.push(r)}}else if("object"===o)if(a.toString===Object.prototype.toString)for(var s in a)l.call(a,s)&&a[s]&&e.push(s);else e.push(a.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.blockEditor,l=window.wp.blocks,n=window.wp.components,o=window.wp.primitives,r=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M4 7.2v1.5h16V7.2H4zm8 8.6h8v-1.5h-8v1.5zm-8-3.5l3 3-3 3 1 1 4-4-4-4-1 1z"}));function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(this,arguments)}(0,l.registerBlockType)("semla/attr-value",{title:"Attribute/value pair",icon:"feedback",category:"formatting",description:'An attribute/value pair, e.g. for contacts "Captain: name/email", or "Colours: purple"',attributes:{attr:{type:"string",source:"text",selector:".avf-name"},value:{type:"string",source:"html",selector:".avf-value"},sameLine:{type:"boolean",default:!0}},example:{attributes:{attr:"Captain",value:'Fred Blogs<br><a href="mailto:fred@gmail.com">fred@gmail.com</a><br><a href="tel:07555555555">07555 555555</a>'}},edit(a){let{attributes:l,className:o,setAttributes:s,isSelected:c}=a;return l.sameLine&&(o+=" avf-same-line"),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarButton,{icon:r,label:"Put value on line below attribute",isActive:!l.sameLine,onClick:()=>{s({sameLine:!l.sameLine})}}))),(0,e.createElement)("div",{className:o},c||!l.sameLine?(0,e.createElement)("div",{className:"avf-name avf-no-colon"},(0,e.createElement)(t.PlainText,{value:l.attr,placeholder:"Attribute",onChange:e=>s({attr:e})})):(0,e.createElement)("div",{className:"avf-name"},l.attr),(0,e.createElement)(t.RichText,{tagName:"div",className:"avf-value",value:l.value,placeholder:"Value",onChange:e=>s({value:e})})))},save(a){let{attributes:l}=a;const n=l.sameLine?"avf-same-line":"";return(0,e.createElement)("div",{className:n},(0,e.createElement)("div",{className:"avf-name"},l.attr),(0,e.createElement)(t.RichText.Content,{tagName:"div",className:"avf-value",value:l.value}))}}),(0,l.registerBlockType)("semla/calendar",{title:"Google Calendar",icon:"calendar-alt",category:"embed",description:"Embed a Google Calendar",attributes:{cid:{type:"string"},enhanced:{type:"boolean",default:!1},tagsList:{type:"array",default:[]}},supports:{html:!1,multiple:!1},edit(a){let{attributes:l,setAttributes:o}=a;const{enhanced:r,tagsList:s}=l,c=(e,t)=>{const a=s.map((e=>({...e})));a[e]=Object.assign(a[e],t),o({tagsList:a})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Calendar Type"},(0,e.createElement)(n.ToggleControl,{checked:r,label:"Enhanced",onChange:()=>{o(r?{enhanced:!1,tagsList:[]}:{enhanced:!r})}}),(0,e.createElement)("p",null,(0,e.createElement)("b",null,"Default")," simply lists the events, split by month, with day name, day, start time, end date (if different) and time, and summary."),(0,e.createElement)("p",null,(0,e.createElement)("b",null,"Enhanced")," does the same, but additionally adds location, and extracts a URL from the description to use as a link (anything like \"http://x.com\"). It also adds adds coloured tags if you have ' : ' in the summary, so 'SBL Session 5 : Box' will have Box as the tag, and you can specify colours for the tags (default blue) under Tags below.")),r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.PanelBody,{title:"Tags"},(0,e.createElement)("p",null,"You can specify the colour of the tags (after the ':' in the summary). Note that if no colour is specified then blue (#0277bd) is used."),(0,e.createElement)(n.RangeControl,{label:"Number of Tags",value:s.length,onChange:e=>{let t;if(e<s.length)t=s.slice(0,e).map((e=>({...e})));else for(t=s.map((e=>({...e})));t.length<e;)t.push({tag:"",color:"#000000"});o({tagsList:t})},min:0,max:10})),s.map(((t,a)=>{const{tag:l,color:o}=t;let r="Tag "+(a+1);return l&&(r+=" "+l),(0,e.createElement)(n.PanelBody,{key:a,title:r,initialOpen:!1},(0,e.createElement)(n.TextControl,{label:"Tag",placeholder:"Tag",onChange:e=>c(a,{tag:e}),value:l}),(0,e.createElement)(n.ColorPicker,{color:o,onChangeComplete:e=>c(a,{color:e.hex}),disableAlpha:!0}))})))),(0,e.createElement)(n.Placeholder,{icon:(0,e.createElement)(n.Icon,{icon:"calendar-alt"}),label:"Embed a Google Calendar",instructions:"Enter the Google Calendar Id"},(0,e.createElement)("div",{className:"components-placeholder__fieldset"},(0,e.createElement)("input",{className:"semla-cal-placeholder__text-input-field",type:"text",value:l.cid,"aria-label":"Google Calendar id",placeholder:"calendar@group.calendar.google.com",onChange:e=>o({cid:e.target.value})})),(0,e.createElement)("p",{className:"components-placeholder__learn-more"},"Open the Settings to set calendar options. Open the page or preview to see the actual calendar.")))},save:()=>null});var c=a(184),i=a.n(c),u=window.wp.compose,m=window.wp.domReady,d=a.n(m),p=window.wp.hooks;const h=(0,e.createElement)(n.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{d:"M9.984 12.984v-1.969h12v1.969h-12zM9.984 18.984v-1.969h12v1.969h-12zM9.984 5.016h12v1.969h-12v-1.969zM6 6.984v10.031h2.484l-3.469 3.469-3.516-3.469h2.484v-10.031h-2.484l3.516-3.469 3.469 3.469h-2.484z"}));(0,l.registerBlockStyle)("core/list",[{name:"alpha",label:"Alphabetic"},{name:"roman",label:"Roman numerals"},{name:"unstyled",label:"Unstyled"}]),(0,l.registerBlockStyle)("core/table",[{name:"lined",label:"Lined"},{name:"boxed-striped",label:"Boxed and striped"}]),d()((function(){(0,l.unregisterBlockType)("core/audio"),(0,l.unregisterBlockType)("core/latest-comments"),(0,l.unregisterBlockType)("core/video")})),(0,p.addFilter)("blocks.registerBlockType","semla/custom-attributes",((e,t)=>{switch(t){case"core/paragraph":e.attributes=Object.assign(e.attributes,{noPrint:{type:"boolean",default:!1}});break;case"core/list":e.attributes=Object.assign(e.attributes,{spacing:{type:"string",default:null}});break;case"core/table":e.attributes=Object.assign(e.attributes,{compact:{type:"boolean",default:!1}})}return e})),(0,p.addFilter)("editor.BlockEdit","semla/custom-controls",(0,u.createHigherOrderComponent)((a=>l=>{switch(l.name){case"core/paragraph":{const{noPrint:o}=l.attributes;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,l),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Print Options"},(0,e.createElement)(n.ToggleControl,{label:"Don't print",checked:o,onChange:e=>l.setAttributes({noPrint:e}),help:o?"Remove from printed page.":"Show on printed page."}))))}case"core/list":{const o=[[null,"Regular spaced"],["medium-spaced","Medium spaced"],["spaced","Large Spaced"]],{spacing:r}=l.attributes;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,l),(0,e.createElement)(t.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,{isCollapsed:!0,icon:h,label:"Set spacing",popoverProps:{position:"bottom right",isAlternate:!0},controls:o.map((e=>{const[t,a]=e;return{icon:h,title:a,isActive:t===r,onClick:()=>{l.setAttributes({spacing:t})}}}))})))}case"core/table":{const{compact:o}=l.attributes;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,l),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Formatting"},(0,e.createElement)(n.ToggleControl,{label:"Compact",checked:o,onChange:e=>l.setAttributes({compact:e}),help:o?"Don't use full width of page.":"Use full page width."}))))}default:return(0,e.createElement)(a,l)}}),"coreBlockInspectorControls")),(0,p.addFilter)("editor.BlockListBlock","semla/with-custom-classes",(0,u.createHigherOrderComponent)((t=>a=>{switch(a.name){case"core/list":if(a.attributes.spacing)return(0,e.createElement)(t,s({},a,{className:a.attributes.spacing}));break;case"core/table":if(a.attributes.compact)return(0,e.createElement)(t,s({},a,{className:"compact"}))}return(0,e.createElement)(t,a)}),"withCustomClasses")),(0,p.addFilter)("blocks.getSaveContent.extraProps","semla/custom-class",((e,t,a)=>{switch(t.name){case"core/paragraph":a.noPrint&&(e.className=i()(e.className,"no-print"));break;case"core/list":a.spacing&&(e.className=i()(e.className,a.spacing));break;case"core/table":a.compact&&(e.className=i()(e.className,"compact"))}return e}));var g=window.wp.apiFetch,b=a.n(g),f=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),v=window.wp.serverSideRender,E=a.n(v);(0,l.registerBlockType)("semla/data",{title:"SEMLA Data",icon:"editor-table",category:"widgets",description:"Add SEMLA data such as league tables or fixtures",attributes:{src:{type:"string",default:"none"}},supports:{customClassName:!1,className:!1,html:!1,multiple:!1},edit:function(a){let{attributes:l,setAttributes:o}=a;const[r,s]=(0,e.useState)(null);(0,e.useEffect)((()=>{b()({path:"/semla-admin/v1/leagues-cups"}).then((t=>{const a=[];for(let l=0,n=t.length;l<n;l++){const{id:n,type:o,name:r}=t[l];"league"===o?(a.push((0,e.createElement)("option",{key:`curr_tables,${n}`,value:`curr_tables,${n}`},r," League Tables")),a.push((0,e.createElement)("option",{key:`curr_grid,${n}`,value:`curr_grid,${n}`},r," Fixtures Grid"))):(a.push((0,e.createElement)("option",{key:`curr_flags,${n}`,value:`curr_flags,${n}`},r)),a.push((0,e.createElement)("option",{key:`curr_flags_rounds,${n}`,value:`curr_flags_rounds,${n}`},r," Table")))}s(a)})).catch((e=>console.log(e)))}),[]);const{src:c}=l;if("none"===c)return(0,e.createElement)(n.Placeholder,{icon:(0,e.createElement)(n.Icon,{icon:"editor-table"}),label:"SEMLA Data",instructions:"Select the data source"},(0,e.createElement)("select",{className:"semla__select",onChange:e=>{o({src:e.target.value}),e.preventDefault()}},(0,e.createElement)("option",{value:"none"},"Select..."),(0,e.createElement)("option",{value:"clubs_list"},"Clubs List"),(0,e.createElement)("option",{value:"clubs_map"},"Clubs Map"),(0,e.createElement)("option",{value:"curr_fixtures"},"Fixtures"),r,(0,e.createElement)("option",{value:"curr_results"},"Recent Results/Upcomming Fixtures")));const i="clubs_map"===c||"curr_fixtures"===c;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarButton,{label:"Change data source",icon:f,onClick:()=>{o({src:"none"})}}))),i?(0,e.createElement)("p",{className:"semla__border semla__border_dashed"},"clubs_map"===c?"Clubs map ":"Fixtures"," will be inserted here - check the preview to see actual rendering."):(0,e.createElement)(n.Disabled,null,(0,e.createElement)(E(),{block:"semla/data",attributes:l})))},save:()=>null}),(0,l.registerBlockType)("semla/location",{title:"Location",icon:"location",category:"widgets",description:"All information about a location - address, notes, map, directions",attributes:{address:{type:"string",source:"text",selector:".wp-block-semla-location > p:first-child"},londonPostcode:{type:"string",default:null},notes:{type:"string",source:"html",multiline:"p",selector:".location__notes",default:""},lat:{type:"number"},long:{type:"number"},latLong:{type:"string"}},supports:{customClassName:!1,className:!1,html:!1},edit:function(a){let{attributes:l,setAttributes:o,isSelected:r}=a;const{address:s,londonPostcode:c,notes:i,lat:u,long:m,latLong:d}=l,[p,h]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarButton,{icon:(0,e.createElement)(n.Icon,{icon:"location-alt"}),label:"Set location on map",onClick:()=>{window.semla=window.semla||{},window.semla.loc={address:s,lat:u,long:m},h(!0)}}))),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Help",initialOpen:!1},(0,e.createElement)("p",null,"To display the map either enter the coordinates below, or find the exact location on a map using the button in the toolbar (the map will start at the current location, or if none is set then it will start at the address if entered)."),(0,e.createElement)("p",null,"Put important instructions that should always be displayed in the entry field above the map (e.g. non-grass pitch types and required footwear, non-standard start times), as anything below that will be hidden when the page is initially displayed."),(0,e.createElement)("p",null,"Enter directions below the map. Since 99.9% of people have SatNav on their phones only add anything if the route is complicated, or things like the postcode taking people to the wrong place. And if possible add information about public transport.")),(0,e.createElement)(n.PanelBody,{title:"Map"},(0,e.createElement)("p",null,'If you know the exact coordinates enter them below, and click the "Update Map" button to update the map.'),(0,e.createElement)(n.TextControl,{label:"Latitude",type:"number",value:u,min:50,max:54,onChange:e=>o({lat:parseFloat(e)})}),(0,e.createElement)(n.TextControl,{label:"Longitude",type:"number",value:m,min:-6,max:2,onChange:e=>o({long:parseFloat(e)})}),(0,e.createElement)(n.Button,{isSecondary:!0,onClick:()=>{o({latLong:k(u,m)})}},"Update Map"))),p&&(0,e.createElement)(n.Modal,{onRequestClose:()=>h(!1),title:"Set Location on Map",className:"semla-map-modal",shouldCloseOnClickOutside:!1},(0,e.createElement)("p",null,"Drag the marker or double-click to set the exact position. You can also use the search box to search for a location."),(0,e.createElement)("iframe",{title:"Map",id:"semla-map-iframe",src:y()+"../modal/map-dialog.html"}),(0,e.createElement)(n.ButtonGroup,{className:"semla-map-buttons"},(0,e.createElement)(n.Button,{isPrimary:!0,onClick:()=>{o({lat:window.semla.loc.lat,long:window.semla.loc.long,latLong:k(window.semla.loc.lat,window.semla.loc.long)}),h(!1)}},"OK"),(0,e.createElement)(n.Button,{isDefault:!0,onClick:()=>h(!1)},"Cancel"))),(0,e.createElement)(t.PlainText,{label:"Address",value:s,placeholder:"Address",onChange:e=>{const t={address:e},a=e.match(/[A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2}/);a&&/^(BR|DA|CR|E\d|EN|HA|IG|KT|N\d|NW|RM|SE|SM|SW|TW|UB|W\d|WD)/.test(a[0])?t.londonPostcode=a[0].replace(" ","+"):t.londonPostcode=null,o(t)}}),(!C(i)||r)&&(0,e.createElement)(t.RichText,{label:"Notes",value:i,multiline:!0,placeholder:"Important notes, including pitch type if non-grass...",onChange:e=>o({notes:e})}),(0,e.createElement)("div",{className:"semla__border semla__border_dashed"},(0,e.createElement)("button",{className:"acrd-btn"},"Map and Directions (will start hidden on live page)"),d&&(0,e.createElement)("iframe",{className:"gmap",src:"https://www.google.com/maps/embed/v1/place?q="+d+"&zoom=15&key="+window.semla.gapi,title:"Google Map",allowFullScreen:!0}),c&&(0,e.createElement)("p",null,(0,e.createElement)("a",{href:"https://tfl.gov.uk/plan-a-journey/?to="+c,rel:"nofollow"},"Plan a journey using Transport For London")),(0,e.createElement)(t.InnerBlocks,{allowedBlocks:["core/image","core/paragraph"]})))},save(a){let{attributes:l}=a;const{notes:n,latLong:o,londonPostcode:r}=l;return(0,e.createElement)("div",{className:"wp-block-semla-location"},(0,e.createElement)("p",null,l.address),!C(n)&&(0,e.createElement)(t.RichText.Content,{tagName:"div",className:"location__notes",value:n,multiline:!0}),(0,e.createElement)("button",{className:"acrd-btn","data-toggle":"collapse","aria-expanded":"false"},"Map and Directions"),(0,e.createElement)("div",{className:"acrd-content"},o&&(0,e.createElement)(e.RawHTML,null,"!MAP!"),!o&&(0,e.createElement)("p",null,"Map coordinates not set!"),r&&(0,e.createElement)("p",{className:"no-print"},(0,e.createElement)("a",{href:"https://tfl.gov.uk/plan-a-journey/?to="+r,rel:"nofollow"},"Plan a journey using Transport For London")),(0,e.createElement)(t.InnerBlocks.Content,null)))}});let w=null;function y(){if(null===w){const e=document.currentScript||document.querySelector('script[src*="semla/blocks"]');if(e){const t=e.src;w=t.substring(0,t.lastIndexOf("/")+1)}}return w}function C(e){return!e||0===e.length||"<p></p>"===e}function k(e,t){return isNaN(e)||isNaN(t)||e<50||e>54||t<-6||t>2?null:e.toFixed(6)+"%2C"+t.toFixed(6)}var x=window.wp.data;(0,l.registerBlockType)("semla/toc",{title:"Table of Contents",icon:"list-view",category:"common",description:"Create a table of contents from any headings.",attributes:{title:{type:"string",source:"text",selector:"h4",default:"Contents"},toc:{type:"string",source:"html",selector:"nav>ul",default:""}},example:{attributes:{title:"Contents"}},supports:{multiple:!1},edit(a){let{attributes:l,setAttributes:o,isSelected:r}=a;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Help",initialOpen:!0},(0,e.createElement)("p",null,"Set the HTML anchor of the headings to change the name of the internal links (you can find this in the Settings for the header blocks under Advanced)."))),(0,e.createElement)("div",{id:"semla_toc"},(0,e.createElement)("nav",{id:"semla_toc-nav"},r&&(0,e.createElement)(n.TextControl,{placeholder:"Title",onChange:e=>o({title:e}),value:l.title,keepPlaceholderOnFocus:!0}),!r&&l.title&&(0,e.createElement)("h4",null,l.title),(0,e.createElement)(T,{value:l.toc,onChange:e=>o({toc:e})}))))},save(t){let{attributes:a}=t;return(0,e.createElement)("div",{id:"semla_toc"},(0,e.createElement)("nav",{id:"semla_toc-nav"},a.title.trim().length>0&&(0,e.createElement)("h4",null,a.title.trim()),(0,e.createElement)(T.Content,{value:a.toc})))}});class T extends e.Component{constructor(e){super(e),this.state={value:e.value,unsubscribe:null}}setToc(){const e=[];(0,x.select)("core/block-editor").getBlocks().filter((e=>"core/heading"===e.name||"core/columns"===e.name)).forEach((t=>{"core/columns"===t.name?this.getHeadingBlocksFromColumns(t,e):this.addToToc(t,e)}));const t=0===e.length?"":this.createHtml(e);this.setState({value:t})}getHeadingBlocksFromColumns(e,t){"core/columns"===e.name||"core/column"===e.name?e.innerBlocks.forEach((e=>{this.getHeadingBlocksFromColumns(e,t)})):"core/heading"===e.name&&this.addToToc(e,t)}addToToc(e,t){let a=e.attributes;if(a.content)if(a.anchor&&!a.anchor.startsWith("st-")||(a.anchor="st-"+a.content.toString().replace(/( |<br>)/g,"-").replace(/[^\w\s-]/g,"")),a={level:a.level,content:a.content,anchor:a.anchor},0!==t.length)for(;;){const e=t[t.length-1];if(a.level<=e.level)return void t.push(a);if(!e.children)return void(e.children=[a]);t=e.children}else t.push(a)}createHtml(e){let t="";return e.forEach((e=>{t+=`<li><a href="#${e.anchor}">${e.content}</a>`,e.children&&(t+="<ul>"+this.createHtml(e.children)+"</ul>"),t+="</li>"})),t}componentDidMount(){this.setToc();const e=(0,x.subscribe)((()=>{this.setToc()}));this.setState({unsubscribe:e})}componentWillUnmount(){this.state.unsubscribe()}componentDidUpdate(e,t){this.props.onChange&&this.state.value!==t.value&&this.props.onChange(this.state.value)}static Content(t){return(0,e.createElement)(e.RawHTML,null,'<ul id="semla_toc-list">'+t.value+"</ul>")}render(){return this.state.value?T.Content(this.state):(0,e.createElement)("p",{className:"semla__filler"},"Add a header to begin generating the table of contents")}}}()}();